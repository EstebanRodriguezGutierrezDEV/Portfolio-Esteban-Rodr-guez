---
// src/components/ProfileCard.astro
import profileImage from "../assets/images/Yo.png";
---

<aside
  class="group/card bg-slate-50 dark:bg-slate-900 rounded-[3rem] p-5 sm:p-6 w-full md:max-w-xs flex flex-col gap-5 transition-all duration-300 hover:scale-[1.02] md:sticky md:top-10 z-30"
>
  <div
    class="bg-white dark:bg-slate-800 rounded-[2.5rem] p-5 sm:p-6 flex flex-col items-center gap-5 shadow-sm transition-colors duration-300"
  >
    <div class="w-28 h-28 rounded-2xl overflow-hidden shrink-0">
      <img
        src={profileImage.src}
        alt="Profile"
        class="w-full h-full object-cover"
      />
    </div>

    <div class="flex flex-col text-center">
      <h1
        class="text-xl font-bold text-slate-800 dark:text-slate-100 leading-tight"
      >
        Esteban <br /> Rodríguez Gutiérrez
      </h1>
      <p class="text-slate-600 dark:text-slate-400 mt-1 text-sm">
        <span data-i18n="profile.role">Desarrollador</span>
        <strong
          class="text-slate-900 dark:text-slate-200"
          data-i18n="profile.role.highlight">Full Stack</strong
        >
      </p>

      <div
        class="mt-2 flex items-center justify-center gap-2 text-slate-400 text-sm font-medium"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          ><circle cx="12" cy="12" r="10"></circle><path
            d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"></path><path
            d="M2 12h20"></path></svg
        >
        <span data-i18n="profile.location">Toledo, España</span>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-4">
    <div
      class="bg-gray-300 dark:bg-slate-700 rounded-[2.5rem] p-5 grid grid-cols-2 place-items-center gap-4 text-slate-800 dark:text-slate-200 shadow-sm transition-all duration-300 hover:scale-105 hover:shadow-lg hover:bg-gray-400 dark:hover:bg-slate-600"
    >
      <a
        href="https://www.instagram.com/_esteban_rg/"
        class="hover:text-pink-600 transition-all duration-300 hover:drop-shadow-[0_0_8px_rgba(219,39,119,0.8)]"
        ><svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          ><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path
            d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line
            x1="17.5"
            y1="6.5"
            x2="17.51"
            y2="6.5"></line></svg
        >
      </a>
      <a
        href="mailto:estebanrodriguezgutierrez.dev@gmail.com"
        class="hover:text-red-500 transition-all duration-300 hover:drop-shadow-[0_0_8px_rgba(239,68,68,0.8)]"
        ><svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          ><rect width="20" height="16" x="2" y="4" rx="2"></rect><path
            d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg
        ></a
      >
      <a
        href="https://github.com/EstebanRodriguezGutierrezDEV"
        class="hover:text-black dark:hover:text-white transition-all duration-300 hover:drop-shadow-[0_0_8px_rgba(0,0,0,0.8)] dark:hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.8)]"
        ><svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          ><path
            d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
          ></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg
        ></a
      >
      <a
        href="https://www.linkedin.com/in/esteban-rodríguez-gutiérrez-492153202/"
        class="hover:text-blue-600 transition-all duration-300 hover:drop-shadow-[0_0_8px_rgba(37,99,235,0.8)]"
        ><svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          ><path
            d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"
          ></path>
          <rect x="2" y="9" width="4" height="12"></rect>
          <circle cx="4" cy="4" r="2"></circle></svg
        ></a
      >
    </div>

    <div
      id="show-options-btn"
      class="group bg-gray-300 dark:bg-slate-700 rounded-[2.5rem] p-5 flex flex-col items-center justify-center text-slate-800 dark:text-slate-200 cursor-pointer hover:bg-gray-400 dark:hover:bg-slate-600 transition-all duration-300 hover:scale-105 hover:shadow-lg"
    >
      <svg
        width="40"
        height="40"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        class="mb-2 transition-all duration-300 group-hover:stroke-white group-hover:drop-shadow-[0_0_5px_rgba(255,255,255,1)]"
        ><path
          d="M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"
        ></path></svg
      >
      <span
        class="text-xs font-bold font-mono tracking-wide text-center"
        data-i18n="profile.showOptions">Mostrar Opciones</span
      >
    </div>
  </div>

  <div
    id="options-menu"
    class="hidden flex-col gap-3 p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-inner transition-all duration-300"
  >
    <button
      id="translate-btn"
      class="flex items-center gap-3 p-3 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400 transition-colors w-full text-left text-slate-700 dark:text-slate-200"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        ><path d="m5 8 6 6"></path><path d="m4 14 6-6 2-3"></path><path
          d="M2 5h12"></path><path d="M7 2h1"></path><path d="m22 22-5-10-5 10"
        ></path><path d="M14 18h6"></path></svg
      >
      <span class="font-medium text-sm" data-i18n="profile.options.translate"
        >Traducir</span
      >
    </button>
    <a
      href="mailto:estebanrodriguezgutierrez.dev@gmail.com"
      class="flex items-center gap-3 p-3 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-600 dark:hover:text-red-400 transition-colors w-full text-left text-slate-700 dark:text-slate-200"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        ><rect width="20" height="16" x="2" y="4" rx="2"></rect><path
          d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg
      >
      <span class="font-medium text-sm" data-i18n="profile.options.contact"
        >Contactar</span
      >
    </a>
    <a
      href="https://www.instagram.com/_esteban_rg/"
      class="flex items-center gap-3 p-3 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-pink-100 dark:hover:bg-pink-900/30 hover:text-pink-600 dark:hover:text-pink-400 transition-colors w-full text-left text-slate-700 dark:text-slate-200"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        ><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path
          d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line
          x1="17.5"
          y1="6.5"
          x2="17.51"
          y2="6.5"></line></svg
      >
      <span class="font-medium text-sm" data-i18n="profile.options.instagram"
        >Instagram</span
      >
    </a>
    <a
      href="https://github.com/EstebanRodriguezGutierrezDEV"
      class="flex items-center gap-3 p-3 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-gray-600 hover:text-black dark:hover:text-white transition-colors w-full text-left text-slate-700 dark:text-slate-200"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        ><path
          d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
        ></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg
      >
      <span class="font-medium text-sm" data-i18n="profile.options.github"
        >GitHub</span
      >
    </a>
    <a
      href="https://www.linkedin.com/in/esteban-rodríguez-gutiérrez-492153202/"
      class="flex items-center gap-3 p-3 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400 transition-colors w-full text-left text-slate-700 dark:text-slate-200"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        ><path
          d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"
        ></path>
        <rect x="2" y="9" width="4" height="12"></rect>
        <circle cx="4" cy="4" r="2"></circle></svg
      >
      <span class="font-medium text-sm" data-i18n="profile.options.linkedin"
        >LinkedIn</span
      >
    </a>
  </div>

  <div class="px-2">
    <h2
      class="text-3xl font-normal text-slate-800 dark:text-slate-100 mb-4 relative w-fit after:block after:content-[''] after:absolute after:h-[3px] after:bg-blue-600 after:w-full after:scale-x-0 group-hover/card:after:scale-x-100 after:transition after:duration-300 after:origin-center"
      data-i18n="profile.about.title"
    >
      Sobre mí
    </h2>
    <div
      class="flex flex-col gap-3 text-slate-500 dark:text-slate-400 font-mono text-sm leading-relaxed tracking-wide"
    >
      <p data-i18n="profile.about.p1">
        Soy <strong>Desarrollador Multiplataforma y Web Junior</strong> con experiencia
        en
        <strong>frontend y backend</strong>, creando aplicaciones completas,
        seguras y escalables. Integro <strong
          >automatización con inteligencia artificial</strong
        > para optimizar procesos y mejorar la eficiencia de cada proyecto.
      </p>
    </div>
  </div>

  <div class="flex items-center gap-4 mt-4 px-2">
    <button
      id="theme-toggle"
      class="bg-white p-3 rounded-full hover:bg-gray-100 border border-gray-100 shadow-sm transition-colors cursor-pointer dark:bg-slate-800 dark:border-slate-700 dark:hover:bg-slate-700"
    >
      <!-- Moon Icon (shows in light mode) -->
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="text-slate-800 block dark:hidden"
        ><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg
      >
      <!-- Sun Icon (shows in dark mode) -->
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="text-white hidden dark:block"
        ><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path
          d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path
          d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path
          d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path
          d="m19.07 4.93-1.41 1.41"></path></svg
      >
    </button>
    <button
      id="lang-toggle"
      class="bg-white p-3 rounded-full hover:bg-gray-100 border border-gray-100 shadow-sm transition-colors cursor-pointer dark:bg-slate-800 dark:border-slate-700 dark:hover:bg-slate-700 flex items-center justify-center w-[46px] h-[46px]"
      aria-label="Toggle Language"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="text-slate-800 dark:text-white"
        ><path d="m5 8 6 6"></path><path d="m4 14 6-6 2-3"></path><path
          d="M2 5h12"></path><path d="M7 2h1"></path><path d="m22 22-5-10-5 10"
        ></path><path d="M14 18h6"></path></svg
      >
    </button>
  </div>
</aside>

<script>
  import { initTheme, toggleTheme } from "../scripts/theme";
  import { initLanguage, toggleLanguage } from "../scripts/language";

  initTheme();
  initLanguage();

  const themeToggle = document.getElementById("theme-toggle");
  if (themeToggle) {
    themeToggle.addEventListener("click", toggleTheme);
  }

  const langToggle = document.getElementById("lang-toggle");
  if (langToggle) {
    langToggle.addEventListener("click", toggleLanguage);
  }

  // Show Options Logic
  const showOptionsBtn = document.getElementById("show-options-btn");
  const optionsMenu = document.getElementById("options-menu");
  const translateBtn = document.getElementById("translate-btn");

  if (showOptionsBtn && optionsMenu) {
    showOptionsBtn.addEventListener("click", () => {
      optionsMenu.classList.toggle("hidden");
      optionsMenu.classList.toggle("flex");
    });
  }

  if (translateBtn) {
    translateBtn.addEventListener("click", toggleLanguage);
  }
</script>
